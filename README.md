# Генератор сокращенных ссылок

### Сборка проекта
1) Установите пакетный менеджер uv
2) Склонируйте этот репозиторий
3) Перейдите в корневую папку проекта
4) Синхронизируйте зависимости: ``` uv sync ```
5) Создайте .env файл со следующими настройками:

```
db_name=test_sqlite.sqlite3 # Название базы данных. Python автоматически создаст файл, если указанного файла не существует
port=8000 # Порт для запуска API
```

(port и db_name могут быть на ваше усмотрение)

6) Запуск Web API: ``` uv run main.py ``` (Все необходимые настройки уже прописаны в settings.py)

### Запуск ТГ-бота (Бонус)
Делайте все те же шаги, что и выше

5) Создайте .env файл со следующими настройками:

```
db_name=test_sqlite.sqlite3 # Название базы данных для подключения
port=8000 # Порт для запуска API
host=0.0.0.0 # Хост для запуска API
telegram_api_key=ВАШ_КЛЮЧ_TELEGRAM # Тут итак понятно :)
api_link=https://example.com # Ссылка на запущенный API данного проекта. Если запущено на 0.0.0.0, то можно просто вписать http://localhost:8000
```

(port, db_name и host могут быть на ваше усмотрение, api_link - ссылка на запущенный API данного проекта, не должен заканчиваться на /, иначе будет ошибка при запуске)

6) Запускаете бота
```
uv run run_bot.py
```

### Запуск тестов
``` uv run pytest ```


### Документация Web API

После запуска Web API документация доступна на эндпоинтах /docs и /redoc


## Мысли, идеи, мнения

Я считаю, что можно было бы разрешить в выполнении задания использовать [aiosqlite](https://pypi.org/project/aiosqlite/), так как он повторяет API оригинального sqlite3 из стандартной библиотеки, но при этом все методы асинхронны, что позвоялет писать асинхронный код, который более выигрышно использовать с фреймворками вроде FastAPI.

Также я считаю, что все таки стоило бы использовать Docker, так как развертывание проекта на чистой ОС всегда более сложная и склонная к ошибкам задача, чем просто запуск готового контейнера через Docker. Да и плюс, если бы в проекте использовалась другая серверная БД (MySQL, PostgreSQL), то без Docker было бы вообще тяжко.